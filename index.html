<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>프로젝트 관리</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <header class="top">
      <div class="top-left">
        <h1 class="title">프로젝트 관리</h1>
        <p class="subtitle">파일을 체계적으로 관리하세요</p>
        <p id="saveStatus" class="saveStatus" style="display:none;">✓ 저장됨</p>
      </div>

      <div class="top-right">
        <button id="openUploadBtn" class="btn btn-pill btn-purple">
          <span class="ico">⤴</span> 업로드
        </button>
        <button id="exportBtn" class="btn btn-pill btn-green">
          <span class="ico">⤴</span> 내보내기
        </button>
        <label class="btn btn-pill btn-blue">
          <span class="ico">⤵</span> 가져오기
          <input id="importInput" type="file" accept=".json" hidden />
        </label>
      </div>
    </header>

    <main class="grid">
      <!-- LEFT -->
      <section class="card">
        <div class="card-head">
          <h2 class="card-title">파일</h2>
          <button id="toggleAddFormBtn" class="iconBtn" title="추가">+</button>
        </div>

        <div class="searchBox">
          <span class="searchIco">🔍</span>
          <input id="searchInput" class="input input-search" placeholder="검색..." />
        </div>

        <div class="selectGroup">
          <select id="sortSelect" class="select">
            <option value="date">중요순</option>
            <option value="name">이름순</option>
            <option value="important">⭐ 중요순</option>
          </select>

          <select id="categorySelect" class="select">
            <option value="전체">모든 카테고리</option>
          </select>

          <select id="projectSelect" class="select">
            <option value="전체">모든 프로젝트</option>
          </select>

          <select id="statusSelect" class="select">
            <option value="전체">모든 상태</option>
            <option value="계획">계획</option>
            <option value="진행중">진행중</option>
            <option value="완료">완료</option>
            <option value="보류">보류</option>
            <option value="취소">취소</option>
          </select>
        </div>

        <div id="addForm" class="addForm" style="display:none;">
          <input id="newFileName" class="input" placeholder="파일명" />
          <select id="newFileType" class="select">
            <option>HTML</option><option>CSS</option><option>JS</option><option>JSON</option><option>TXT</option>
          </select>
          <input id="newFileCategory" class="input" placeholder="카테고리" />
          <input id="newFileProject" class="input" placeholder="프로젝트" />
          <button id="addFileBtn" class="btn btn-solid btn-dark">추가</button>
        </div>

        <!-- ✅ 여기 리스트가 스샷처럼 보이게 렌더됨 -->
        <div id="fileList" class="fileList"></div>

        <div class="trashRow">
          <button id="openTrashBtn" class="btn btn-ghost">
            🗑 휴지통 <span id="trashCount" class="pill">0</span>
          </button>
        </div>
      </section>

      <!-- RIGHT -->
      <section class="card card-wide">
        <div id="emptyState" class="empty">
          <div class="emptyIcon">📄</div>
          <p>파일을 선택하세요</p>
        </div>

        <div id="detailView" style="display:none;">
          <div class="detail-head">
            <div class="detail-nameWrap">
              <span id="detailName" class="detail-name"></span>
              <button id="toggleImportantBtn" class="iconBtn iconBtn-star" title="중요 표시">☆</button>
            </div>

            <button id="copyBtn" class="btn btn-ghost btn-copy">
              <span class="ico">📋</span> 복사
            </button>
          </div>

          <div class="metaGrid">
            <div class="metaItem"><span class="metaIco">📄</span><span id="detailType"></span></div>
            <div class="metaItem"><span class="metaIco">📅</span><span id="detailDate"></span></div>
            <div class="metaItem"><span class="metaIco">📁</span><span id="detailCategory"></span></div>
            <div class="metaItem"><span class="metaIco">💾</span><span id="detailSize"></span></div>
          </div>

          <div id="detailProjectWrap" class="projectBar" style="display:none;">
            프로젝트: <span id="detailProject"></span>
          </div>

          <div class="section">
            <div class="section-label">상태</div>
            <div id="statusButtons" class="statusButtons"></div>
          </div>

          <div class="section">
            <div class="section-top">
              <div class="section-label">메모</div>
              <button id="editMemoBtn" class="iconBtn" title="메모 수정">✎</button>
              <button id="saveMemoBtn" class="iconBtn ok" title="저장" style="display:none;">✓</button>
              <button id="cancelMemoBtn" class="iconBtn danger" title="취소" style="display:none;">✕</button>
            </div>
            <div id="memoView" class="memoView">메모 없음</div>
            <textarea id="memoEdit" class="textarea memoEdit" rows="2" style="display:none;"></textarea>
          </div>

          <div class="section">
            <div class="section-top">
              <div class="section-label">코드</div>
              <div class="codeActions">
                <button id="discardBtn" class="btn btn-ghost" disabled>되돌리기</button>
                <button id="saveBtn" class="btn btn-solid btn-dark" disabled>저장</button>
                <button id="downloadBtn" class="btn btn-ghost">다운로드</button>
              </div>
            </div>
            <textarea id="codeEditor" class="textarea codeEditor" placeholder="코드 입력..."></textarea>
          </div>
        </div>
      </section>
    </main>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal" style="display:none;">
      <div class="modalCard">
        <div class="modalHead">
          <h3>파일 업로드</h3>
          <button id="closeUploadModal" class="iconBtn">✕</button>
        </div>
        <p class="modalDesc">텍스트 파일은 내용 저장, 그 외는 “미리보기 불가”로 저장됩니다.</p>
        <input id="uploadInput" type="file" multiple class="input" />
        <button id="uploadModalCloseBtn" class="btn btn-ghost full">닫기</button>
      </div>
    </div>

    <!-- Save Confirm Modal -->
    <div id="saveConfirmModal" class="modal" style="display:none;">
      <div class="modalCard">
        <div class="modalHead">
          <h3>저장 확인</h3>
          <button id="closeSaveConfirmModal" class="iconBtn">✕</button>
        </div>
        <p class="modalDesc">변경된 코드를 저장할까요?</p>
        <div class="modalActions">
          <button id="confirmSaveBtn" class="btn btn-solid btn-dark">확인</button>
          <button id="cancelSaveBtn" class="btn btn-ghost">저장 취소</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirm Modal -->
    <div id="deleteConfirmModal" class="modal" style="display:none;">
      <div class="modalCard">
        <div class="modalHead">
          <h3>삭제 확인</h3>
          <button id="closeDeleteConfirmModal" class="iconBtn">✕</button>
        </div>
        <p class="modalDesc">삭제하면 휴지통으로 이동합니다.</p>
        <div class="modalActions">
          <button id="confirmDeleteBtn" class="btn btn-solid btn-red">삭제</button>
          <button id="cancelDeleteBtn" class="btn btn-ghost">삭제 취소</button>
        </div>
      </div>
    </div>

    <!-- Trash Modal -->
    <div id="trashModal" class="modal" style="display:none;">
      <div class="modalCard">
        <div class="modalHead">
          <h3>휴지통</h3>
          <button id="closeTrashModal" class="iconBtn">✕</button>
        </div>
        <div id="trashList" class="trashList"></div>
        <button id="trashModalCloseBtn" class="btn btn-ghost full">닫기</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
